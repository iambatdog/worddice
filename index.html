<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Word Dice</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="container">
      <h1 class="title">Word Dice</h1>
      <p class="lead">Roll the dice to get fun picture prompts for writing!</p>

      <div class="controls">
        <label for="dice-count">How many dice?</label>
        <select id="dice-count" aria-label="Number of dice">
          <option value="2">2</option>
          <option value="3" selected>3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
        </select>

  <button id="roll-btn" class="btn">Roll Dice</button>
  <!-- Settings cog -->
        <button id="settings-btn" class="btn ghost settings-btn" aria-haspopup="dialog" aria-controls="settings-modal" aria-label="Settings" title="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" role="img" aria-hidden="true" focusable="false">
            <title>Settings</title>
            <path fill="currentColor" d="M19.14 12.94a7.07 7.07 0 000-1.88l2.03-1.58a.5.5 0 00.12-.63l-1.92-3.32a.5.5 0 00-.6-.22l-2.39.96a7.1 7.1 0 00-1.62-.94L14.9 2.5a.5.5 0 00-.5-.5h-3.8a.5.5 0 00-.5.5l-.32 2.71a7.1 7.1 0 00-1.62.94L4.79 5.2a.5.5 0 00-.6.22L2.27 8.74a.5.5 0 00.12.63l2.03 1.58a7.07 7.07 0 000 1.88L2.39 14.5a.5.5 0 00-.12.63l1.92 3.32a.5.5 0 00.6.22l2.39-.96c.5.36 1.05.66 1.62.94l.32 2.71a.5.5 0 00.5.5h3.8a.5.5 0 00.5-.5l.32-2.71c.57-.28 1.12-.58 1.62-.94l2.39.96a.5.5 0 00.6-.22l1.92-3.32a.5.5 0 00-.12-.63l-2.03-1.58zM12 15.5A3.5 3.5 0 1115.5 12 3.5 3.5 0 0112 15.5z"/>
          </svg>
        </button>
      </div>
  <div id="roll-helper" class="note" hidden></div>
  <!-- ARIA live region for screen reader announcements -->
  <div id="aria-announcer" aria-live="polite" aria-atomic="true" class="sr-only"></div>

      <section id="dice-area" class="dice-area" aria-live="polite">
        <!-- dice slots inserted here -->
      </section>

      <section id="prompt" class="prompt" aria-live="polite">
        <h2>Writing Prompt</h2>
        <p id="prompt-text">Roll the dice to get a new writing prompt.</p>
      </section>

      <footer class="footer">
        <small>Designed for kids — simple and safe.</small>
      </footer>
    </main>
      <!-- Settings modal (hidden by default). Reuses existing safe-list and PIN controls inside for management. -->
      <div id="settings-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settings-title" hidden>
        <div class="modal-backdrop" id="settings-backdrop"></div>
        <div class="modal-panel" role="document">
          <header class="modal-header">
            <h3 id="settings-title">Settings</h3>
            <button id="settings-close" class="btn ghost" aria-label="Close settings">✕</button>
          </header>
          <div class="modal-body">
            <div class="modal-section">
              <label for="layout-toggle-modal" style="display:flex;align-items:center;gap:8px">
                <input type="checkbox" id="layout-toggle-modal" />
                <strong>Horizontal layout</strong>
              </label>
            </div>
            <hr />
            <div class="modal-section">
              <h4>Grade level presets</h4>
              <div class="note">Choose a grade band to quickly apply a teacher-approved preset of images. You can edit the allowed images afterwards.</div>
              <div style="display:flex;gap:8px;align-items:center;margin-top:8px;flex-wrap:wrap">
                <select id="grade-band-select" aria-label="Select grade band">
                  <option value="k2">Grade K–2 (Simple & Familiar)</option>
                  <option value="g35">Grades 3–5 (Imaginative Adventure)</option>
                  <option value="g68">Grades 6–8 (Mystery & Conflict)</option>
                  <option value="g912">Grades 9–12 (Symbolic & Atmospheric)</option>
                </select>
                <button id="apply-grade-preset" class="btn">Apply Grade Preset</button>
                <button id="preview-grade-preset" class="btn ghost">Preview</button>
              </div>
              <div id="grade-preset-note" class="note" style="margin-top:8px;display:none"></div>
            </div>
            <hr />
            <div class="modal-section">
              <h4>Allowed images</h4>
              <div class="note">Use the checkboxes to control which images can appear on dice. Changes are saved in your browser.</div>
              <!-- Reuse #safe-list here for the modal editor -->
              <div id="safe-list-modal" class="safe-list" aria-live="polite"></div>
              <div class="pin-controls">
                <input id="pin-input-modal" type="password" placeholder="Enter teacher PIN" aria-label="Teacher PIN" />
                <button id="set-pin-btn-modal" class="btn ghost">Set PIN</button>
                <button id="lock-btn-modal" class="btn">Lock</button>
                <button id="unlock-btn-modal" class="btn ghost" style="display:none">Unlock</button>
                <p id="pin-msg-modal" class="note" aria-live="polite"></p>
              </div>
            </div>
          </div>
        </div>
      </div>

    <script src="script.js"></script>
  </body>
</html>
